<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pt"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ClubeDesportivo.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PPROG_1NB_1171343_1161874_TP</a> &gt; <a href="index.source.html" class="el_package">pt.ipp.isep.pprog_1nb_1171343_1161874_tp</a> &gt; <span class="el_source">ClubeDesportivo.java</span></div><h1>ClubeDesportivo.java</h1><pre class="source lang-java linenums">package pt.ipp.isep.pprog_1nb_1171343_1161874_tp;

import pt.ipp.isep.biblioteca.Data;
import java.util.List;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;

/**
 *
 * @author António (1171343) &amp; João (1161874)
 */
public class ClubeDesportivo {

    /**
     * Nome do clube desportivo
     */
    private String nome;

    /**
     * Data de fundação do clube desportivo
     */
    private Data dataFundacao;

    /**
     * O nome por omissao do clube desportivo
     */
    private static final String NOME_POR_OMISSAO = &quot;sem nome&quot;;

    /**
     * Inicializa a lista de atletas
     */
    private List&lt;Atleta&gt; atletas;

    /**
     * Inicializa o construtor do clube desportivo
     */
<span class="fc" id="L38">    public ClubeDesportivo() {</span>
<span class="fc" id="L39">        nome = NOME_POR_OMISSAO;</span>
<span class="fc" id="L40">        dataFundacao = new Data();</span>
<span class="fc" id="L41">        atletas = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L42">    }</span>

    /**
     * Inicializa o construtor clube desportivo com o nome e data de fundação
     * recebidos
     *
     * @param nome - nome do clube desportivo
     * @param dataFundacao - data de fundação do clube
     * @param atletas - arraylist com os atletas do clube
     */
<span class="fc" id="L52">    public ClubeDesportivo(String nome, Data dataFundacao, List&lt;Atleta&gt; atletas) {</span>
<span class="fc" id="L53">        this.nome = nome;</span>
<span class="fc" id="L54">        this.dataFundacao = new Data(dataFundacao);</span>
<span class="fc" id="L55">        this.atletas = new ArrayList&lt;&gt;(atletas);</span>
<span class="fc" id="L56">    }</span>

    // 1.
    /**
     * Devolve o nome do clube desportivo
     *
     * @return nome do clube desportivo
     */
    public String getNome() {
<span class="fc" id="L65">        return nome;</span>
    }

    /**
     * Modifica o nome do clube desportivo
     *
     * @param nome - novo nome do clube desportivo
     */
    public void setNome(String nome) {
<span class="nc" id="L74">        this.nome = nome;</span>
<span class="nc" id="L75">    }</span>

    /**
     * Devolve a data de fundação do clube desportivo
     *
     * @return data de fundação do clube
     */
    public Data getDataFundacao() {
<span class="nc" id="L83">        return new Data(dataFundacao);</span>
    }

    /**
     * Modifica a data de fundação do clube desportivo
     *
     * @param dataFundacao - nova data de fundação do clube
     */
    public void setDataFundacao(Data dataFundacao) {
<span class="nc" id="L92">        this.dataFundacao.setData(dataFundacao.getAno(), dataFundacao.getMes(), dataFundacao.getDia());</span>
<span class="nc" id="L93">    }</span>

    /**
     * Devolve uma lista com todos os atletas do clube desportivo
     *
     * @return lista dos atletas do clube
     */
    public ArrayList&lt;Atleta&gt; getAtletas() {
<span class="fc" id="L101">        return new ArrayList&lt;&gt;(atletas);</span>
    }

    /**
     * Insere uma nova lista de atletas
     *
     * @param novaListaAtletas
     */
    public void setAtletas(List&lt;Atleta&gt; novaListaAtletas) {
<span class="nc" id="L110">        atletas = new ArrayList&lt;&gt;(novaListaAtletas);</span>
<span class="nc" id="L111">    }</span>

    // 1.
    /**
     * Devolve o nome do fundação do clube
     *
     * @return nome
     */
    @Override
    public String toString() {
<span class="fc" id="L121">        return String.format(&quot;%nNome do Clube: %s%n&quot;, nome);</span>
    }

    // 2.
    /**
     * Adiciona um atleta ao clube
     *
     * @param novoAtleta
     */
    public void adicionarAtleta(Atleta novoAtleta) {
<span class="fc" id="L131">        atletas.add(novoAtleta);</span>
<span class="fc" id="L132">    }</span>

    // 3.
    /**
     * Ordena a lista de atletas do clube desportivo ordenada alfabeticamente
     * por nome
     *
     * @return listaOrdenada - lista ordenada alfabeticamente por nome
     */
    public List&lt;Atleta&gt; sortAtletas() {
<span class="fc" id="L142">        List&lt;Atleta&gt; listaOrdenada = getAtletas();</span>
<span class="fc" id="L143">        Collections.sort(listaOrdenada);</span>
<span class="fc" id="L144">        return listaOrdenada;</span>
    }

    // 4.
    /**
     * Devolve a lista ordenada por prémios inversamente
     *
     * @return listaOrdenada
     */
    public List&lt;Atleta&gt; atletasPremioInversamente() {
<span class="nc" id="L154">        List&lt;Atleta&gt; listaOrdenada = getAtletas();</span>
<span class="nc" id="L155">        Collections.sort(listaOrdenada, Collections.reverseOrder(new CompararPremio()));</span>
<span class="nc" id="L156">        return listaOrdenada;</span>
    }

    /**
     * Classe com o critério para comparar os prémios
     */
<span class="nc" id="L162">    class CompararPremio implements Comparator&lt;Atleta&gt; {</span>

        /**
         * Compara o valor total mensal de prémios recebidos do atleta e do
         * outro recebido por parâmetro
         *
         * @param a1 - atleta inicial
         * @param a2 - atleta a ser compararado com o atleta inicial
         * @return 1 (o valor do a1 é maior que do a2), -1 (o valor do a1 é
         * menor que do a2) ou 0 (o valor do a1 é igual ao do a2)
         */
        @Override
        public int compare(Atleta a1, Atleta a2) {
<span class="nc bnc" id="L175" title="All 2 branches missed.">            if (a1.getValorMensalPremios() &gt; a2.getValorMensalPremios()) {</span>
<span class="nc" id="L176">                return 1;</span>
            }
<span class="nc bnc" id="L178" title="All 2 branches missed.">            if (a1.getValorMensalPremios() &lt; a2.getValorMensalPremios()) {</span>
<span class="nc" id="L179">                return -1;</span>
            }
<span class="nc" id="L181">            return 0;</span>
        }
    }

    // 5.
    /**
     * Permite o cálculo do valor total do IRS a descontar da totalidade dos
     * atletas sujeitos à taxa de IRS
     *
     * @return valor total do IRS da totalidade dos atletas
     */
    public float calcularTotalIrs() {
<span class="nc" id="L193">        float total = 0;</span>
        CalcularIrs irs;
<span class="nc bnc" id="L195" title="All 2 branches missed.">        for (int i = 0; i &lt; atletas.size(); i++) {</span>
<span class="nc bnc" id="L196" title="All 2 branches missed.">            if (atletas.get(i) instanceof AtletaProfissional) {</span>
<span class="nc" id="L197">                total = total + ((AtletaProfissional) atletas.get(i)).calcularIrs();</span>
            }
<span class="nc bnc" id="L199" title="All 2 branches missed.">            if (atletas.get(i) instanceof AtletaSemiProfissional) {</span>
<span class="nc" id="L200">                total = total + ((AtletaSemiProfissional) atletas.get(i)).calcularIrs();</span>
            }
        }
<span class="nc" id="L203">        return total;</span>
    }

    // 6.
    /**
     * Devolve a lista ordenada alfabeticamente por categoria, modalidade e nome
     *
     * @return listaOrdenada
     */
    public List&lt;Atleta&gt; getOrdenadaCategoriaModalidadeNome() {
<span class="nc" id="L213">        List&lt;Atleta&gt; listaOrdenada = getAtletas();</span>
<span class="nc" id="L214">        Collections.sort(listaOrdenada, new CompararCategoriaModalidadeNome());</span>
<span class="nc" id="L215">        return listaOrdenada;</span>
    }

    /**
     * Classe com o critério para comparar alfabeticamente um atleta por
     * categoria, modalidade e nome
     */
<span class="nc" id="L222">    class CompararCategoriaModalidadeNome implements Comparator&lt;Atleta&gt; {</span>

        /**
         * Compara alfabeticamente a categoria, modalidade e nome do atleta e do
         * outro recebido por parâmetro
         *
         * @param a1 - atleta inicial
         * @param a2 - atleta a ser compararado com o atleta inicial
         * @return res - 1 (a1 é maior que a2), -1 (a1 é menor que a2) ou 0 (a1
         * é igual ao a2)
         */
        @Override
        public int compare(Atleta a1, Atleta a2) {
<span class="nc" id="L235">            int res = (a1.getClass().getSimpleName().compareToIgnoreCase(a2.getClass().getSimpleName()));</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">            if (res == 0) {</span>
<span class="nc" id="L237">                res = a1.getAtividade().compareToIgnoreCase(a2.getAtividade());</span>
            }
<span class="nc bnc" id="L239" title="All 2 branches missed.">            if (res == 0) {</span>
<span class="nc" id="L240">                res = a1.compareTo(a2);</span>
            }
<span class="nc" id="L242">            return res;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>